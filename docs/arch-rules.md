# Архитектура проекта

Проект использует архитектуру **Feature-Sliced Design (FSD)**.

## Структура слоев

Проект разделен на следующие папки (слои):

- **app** - входные точки, конфигурации
- **pages** - страницы приложения
- **widgets** - крупные составные блоки интерфейса
- **features** - функциональные возможности приложения
- **entities** - бизнес-сущности
- **shared** - переиспользуемый код

## Структура slice

Каждый slice (кроме `app` и `shared`) состоит из:

- **index.ts** - файл с экспортами публичного API слайса
- **ui/** - UI элементы слайса
- **model/** - бизнес-логика слайса
- **api/** - обращения к бэкенду
- **constants/** - специфичные константы для слайса
- **lib/** - вспомогательные функции и библиотечный код

### Правила экспорта

Все публичные экспорты слайса должны быть объявлены в `index.ts`. Импорты из других слайсов должны идти только через `index.ts` файл.

## Правила организации слайсов

Все слайсы в слое должны находиться на одном верхнем уровне. Нельзя создавать вложенную структуру слайсов.

### Примеры

**Неправильно:**

```
features/
  task/
    create/
      ui/
        CreateTaskForm.tsx
```

**Правильно:**

```
features/
  task-create/
    ui/
      CreateTaskForm.tsx
```

Слайсы должны называться через дефис, если объединяют несколько концепций (например, `task-create`, `task-filter`, `user-profile`).

## Слой App

В слое `app` расположены:

- **Входные точки** - точка входа приложения (`main.tsx`, `App.tsx`)
- **Конфигурации** - настройки приложения

### Структура app

- **app/di/** - прокидывание зависимостей и организация оберток (Dependency Injection)
- **app/router/** - конфигурация роутера
- **app/store/** - конфигурация Redux стора
- **app/theme/** - конфигурация темы

## Слой Pages

В слое `pages` расположены все страницы приложения на верхнем уровне.

### Правила организации pages

- **Нельзя вкладывать папку страницы в другую страницу** - все страницы находятся на одном уровне
- В папке страницы расположен **index.ts** файл, который реэкспортирует страницу

### Пример структуры

```
pages/
  home/
    index.ts
    ui/
      HomePage.tsx
  about/
    index.ts
    ui/
      AboutPage.tsx
```

## Слой Widgets

Виджеты - это крупные составные блоки интерфейса, которые объединяют несколько features и entities.

## Слой Features

Features содержат функциональные возможности приложения, которые могут использоваться на разных страницах.

## Слой Entities

Entities содержат бизнес-сущности приложения (например, User, Product, Order).

## Слой Shared

В слое `shared` может быть следующая структура:

- **lib/** - переиспользуемые библиотеки и утилиты
- **types/** - общие типы TypeScript
- **constants/** - общие константы
- **ui/** - переиспользуемые UI компоненты
  - **components/** - кастомные компоненты
  - **mui/** - кастомизация Material UI компонентов
- **api/** - общие API утилиты и конфигурации

## Правила импортов

Слои могут импортировать только из слоев, расположенных ниже в иерархии:

```
app → pages → widgets → features → entities → shared
```

### Запрещенные импорты

- `shared` не может импортировать из других слоев
- `entities` не может импортировать из `features`, `widgets`, `pages`, `app` и других `entities`
- `features` не может импортировать из `widgets`, `pages`, `app` и других `features`
- `widgets` не может импортировать из `pages`, `app` и других `widgets`
- `pages` не может импортировать из `app` и других `pages`

Эти правила контролируются ESLint плагином `eslint-plugin-boundaries`.
